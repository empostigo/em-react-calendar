<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/Pagination/Pagination.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/Pagination/Pagination.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// React
import { useEffect, useState } from "react"
import PropTypes from "prop-types"

/**
 * Renders a paginated list, allowing navigation through items by mouse wheel or keyboard arrows.
 *
 * This component manages a list of arbitrary items, presenting them in a paginated format. Users can navigate through pages
 * using the mouse wheel or keyboard arrow keys. It showcases an efficient approach to handle large datasets by breaking
 * them into smaller, manageable chunks, thus improving user experience in data-heavy applications.
 *
 * @param {object} props - The properties passed to the component.
 * @param {Array} props.items - The array of items to paginate. These can be of any type, structured to fit the application's needs.
 * @param {number} [props.itemsPerPage=12] - Optional. The number of items to display per page. Defaults to 12 if not provided.
 * @param {Function} props.onChange - A callback function that is called when an item is selected (clicked). This function should handle any actions to take with the selected item.
 */
const Pagination = ({ items, itemsPerPage = 12, onChange }) => {
  const totalPages = Math.ceil(items.length / itemsPerPage)
  const [currentPage, setCurrentPage] = useState(totalPages)

  /**
   * Changes the current page number within the allowed range.
   *
   * @param {number} newPage The page number to navigate to. This is actually the offset from the current page, not an absolute page number.
   */
  const changePage = newPage => {
    setCurrentPage(previousPage => {
      const updatedPage = previousPage + newPage
      return Math.max(1, Math.min(updatedPage, totalPages))
    })
  }

  const handleWheel = event => {
    event.preventDefault()
    const scrollY = event.deltaY

    scrollY &lt; 0 ? changePage(-1) : changePage(1)
  }

  /**
   * Handles keyboard events to allow pagination control via ArrowUp and ArrowDown keys.
   *
   * @param {KeyboardEvent} event The keyboard event triggered by user action.
   */
  const handleKeyDown = event => {
    if (event.key === "ArrowUp") {
      event.preventDefault()
      changePage(-1)
    } else if (event.key === "ArrowDown") {
      event.preventDefault()
      changePage(1)
    }
  }

  /**
   * Sets up event listeners for mouse wheel and keyboard navigation.
   * Ensures proper cleanup on component unmount to prevent memory leaks.
   */
  useEffect(() => {
    const container = document.getElementById("itemContainer")
    container.addEventListener("wheel", handleWheel, { passive: false })
    window.addEventListener("keydown", handleKeyDown)

    return () => {
      container.removeEventListener("wheel", handleWheel)
      window.removeEventListener("keydown", handleKeyDown)
    }
  }, [])

  const startIndex = (currentPage - 1) * itemsPerPage
  const endIndex = startIndex + itemsPerPage
  const itemsToShow = items.slice(startIndex, endIndex)

  return (
    &lt;ul id="itemContainer" tabIndex="0">
      {itemsToShow.map(item => (
        &lt;li
          key={`${item}-${crypto.randomUUID()}`}
          style={{ cursor: item === null ? "default" : "pointer" }}
          onClick={() => item !== null &amp;&amp; onChange(item)}
        >
          {item}
        &lt;/li>
      ))}
    &lt;/ul>
  )
}

Pagination.propTypes = {
  items: PropTypes.array.isRequired,
  itemsPerPage: PropTypes.number,
  onChange: PropTypes.func
}

export default Pagination
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#Calendar">Calendar</a></li><li><a href="global.html#DaysTable">DaysTable</a></li><li><a href="global.html#MonthList">MonthList</a></li><li><a href="global.html#Pagination">Pagination</a></li><li><a href="global.html#Select">Select</a></li><li><a href="global.html#createMonthsCalendars">createMonthsCalendars</a></li><li><a href="global.html#getFirstDayOfTheMonth">getFirstDayOfTheMonth</a></li><li><a href="global.html#getMonths">getMonths</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Mon Apr 01 2024 13:12:49 GMT+0200 (heure d’été d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
